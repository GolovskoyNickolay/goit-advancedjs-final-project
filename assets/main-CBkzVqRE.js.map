{"version":3,"mappings":";8SAIA,MAAMA,CAAO,CACX,YAAYC,EAAaC,EAAkBC,EAAoB,CA0B/DC,EAAA,eAAU,CAAC,CAAE,OAAAC,KAAa,CACpBA,EAAO,WAAa,OAExB,KAAK,MAAM,QAAQC,GAAQA,EAAK,UAAU,OAAO,QAAQ,CAAC,EAC1DD,EAAO,UAAU,IAAI,QAAQ,EAE7B,KAAK,OAASA,EAAO,QAAQ,OAE7B,KAAK,iBAAiB,OACtB,KAAK,OAAM,EAEX,KAAK,KAAK,MAAM,UAAY,YAC5B,KAAK,KAAK,KAAK,UAAY,GAC/B,GAwCED,EAAA,kCAA6BG,GAAS,CACpC,KAAK,OAAO,OAAOA,CAAK,CAAC,CAC7B,GAEEH,EAAA,mBAAc,CAAC,CAAE,OAAAC,KAAa,CAC5B,MAAMG,EAAKC,EAAmBJ,EAAQ,KAAM,IAAI,EAC3CG,IACL,KAAK,KAAI,EACT,KAAK,iBAAiB,KAAK,KAAK,OAAQA,EAAG,QAAQ,QAAQ,EAE3D,KAAK,KAAK,MAAM,UAAY,cAC5B,KAAK,KAAK,KAAK,UAAYA,EAAG,QAAQ,SAC1C,GA1FI,KAAK,iBAAmBN,EACxB,KAAK,mBAAqBC,EAC1B,KAAK,WAAa,SAAS,KAAK,cAAc,eAAe,EAC7D,KAAK,WAAW,iBAAiB,QAAS,KAAK,OAAO,EACtD,KAAK,MAAQ,MAAM,KAAK,KAAK,WAAW,iBAAiB,IAAI,CAAC,EAE9D,KAAK,aAAe,SAAS,KAAK,cAAc,gBAAgB,EAChE,KAAK,aAAa,iBAAiB,QAAS,KAAK,WAAW,EAC5D,KAAK,OAAS,UAEd,KAAK,KAAO,CACV,MAAO,SAAS,cAAc,oBAAoB,EAClD,KAAM,SAAS,cAAc,mBAAmB,CACtD,EAEI,KAAK,MAAQO,IAAa,EAAI,GAEzBT,GAEJ,eAAgBU,EAAU,CACzB,MAAMC,EAAS,MAAMC,EAAA,WAAO,sBAAa,gCACzCF,EAAS,WAAaC,EAAO,OAC9B,EAAE,IAAI,CACR,CAiBD,MAAM,OAAOE,EAAO,EAAG,OACrB,GAAI,CACF,MAAMC,EAAO,MAAMC,EAAW,CAC5B,OAAQ,KAAK,OACb,MAAO,KAAK,MACZ,KAAAF,CACR,CAAO,EAGD,KAAK,aAAa,UAAYC,EAAK,QAChC,IAAIf,EAAO,cAAc,EACzB,KAAK,EAAE,EACV,KAAK,mBAAmB,OAAOe,EAAK,WAAYA,EAAK,IAAI,EACzD,KAAK,mBAAmB,SAAW,KAAK,4BAExCE,EAAA,KAAK,aAAL,MAAAA,EAAiB,OAEjB,KAAK,KAAI,CAEV,MAAe,CAEf,CACF,CAED,OAAO,eAAe,CAAE,OAAAC,EAAQ,KAAAC,EAAM,OAAAC,CAAM,EAAI,CAC9C,MAAO,oEAAoED,CAAI;AAAA;AAAA,mBAEhED,CAAM;AAAA,wCACeC,CAAI;AAAA;AAAA;AAAA;AAAA,yCAIHE,EAAsBF,CAAI,CAAC;AAAA,2CACzBC,CAAM;AAAA;AAAA,cAG9C,CAgBD,MAAO,CACL,KAAK,aAAa,UAAU,OAAOE,CAAgB,EACnD,KAAK,aAAa,OAAS,EAC5B,CACD,MAAO,CACL,KAAK,aAAa,UAAU,IAAIA,CAAgB,EAChD,KAAK,aAAa,OAAS,EAC5B,CACH,CCvGA,eAAeC,GAAkB,CAE/B,MAAMC,GADmB,MAAKX,EAAA,IAAC,OAAO,0BAAiB,iCACnB,QAE9BZ,EAAc,GACdC,EAAmB,IAAIuB,EAASxB,EAAauB,CAAU,EACtC,IAAIxB,EAAOC,EAAaC,EAAkBsB,CAAU,EAC5D,QAAQ,CACrB,OAAQ,SAAS,cAAc,6BAA6B,CAChE,CAAG,CACH,CACAD,EAAiB","names":["Filter","isIndexPage","exerciseInstance","paginationInstance","__publicField","target","item","index","li","findClosestParrent","isMobile","instance","module","__vitePreload","page","data","getFilters","_a","imgURL","name","filter","capitalizeFirstLetter","INVISIABLE_CLASS","initMainSection","pagination","Exercise"],"ignoreList":[],"sources":["../../src/js/main-section/filter.js","../../src/js/main-section/main-section.js"],"sourcesContent":["import { getFilters } from '../../services/apiServices';\nimport { capitalizeFirstLetter, findClosestParrent, isMobile } from '../utils';\nimport { INDEX_PATH, INVISIABLE_CLASS } from './constants';\n\nclass Filter {\n  constructor(isIndexPage, exerciseInstance, paginationInstance) {\n    this.exerciseInstance = exerciseInstance;\n    this.paginationInstance = paginationInstance;\n    this.filterList = document.body.querySelector('.filters-list');\n    this.filterList.addEventListener('click', this.onClick);\n    this.items = Array.from(this.filterList.querySelectorAll('li'));\n\n    this.categoryList = document.body.querySelector('.category-list');\n    this.categoryList.addEventListener('click', this.cardOnClick);\n    this.filter = 'Muscles';\n\n    this.path = {\n      start: document.querySelector('.filter-path-start'),\n      part: document.querySelector('.filter-path-part'),\n    };\n\n    this.limit = isMobile() ? 9 : 12;\n\n    if (!isIndexPage) return;\n\n    (async function (instance) {\n      const module = await import('./search.js');\n      instance.searchForm = module.default;\n    })(this);\n  }\n\n  onClick = ({ target }) => {\n    if (target.nodeName !== 'LI') return;\n\n    this.items.forEach(item => item.classList.remove('active'));\n    target.classList.add('active');\n\n    this.filter = target.dataset.filter;\n\n    this.exerciseInstance.hide();\n    this.render();\n\n    this.path.start.innerHTML = 'Exercises';\n    this.path.part.innerHTML = '';\n  };\n\n  async render(page = 1) {\n    try {\n      const data = await getFilters({\n        filter: this.filter,\n        limit: this.limit,\n        page,\n      });\n      //   this.currentData = data;\n\n      this.categoryList.innerHTML = data.results\n        .map(Filter.categoryMarkup)\n        .join('');\n      this.paginationInstance.render(data.totalPages, data.page);\n      this.paginationInstance.callback = this.paginationCategoryCallback;\n\n      this.searchForm?.hide();\n\n      this.show();\n      // console.log(data);\n    } catch (error) {\n      // console.error(error);\n    }\n  }\n\n  static categoryMarkup({ imgURL, name, filter }) {\n    return `<li class=\"category-card\" data-muscle=\"abductors\" data-exercise=\"${name}\">\n          <img\n            src=\"${imgURL}\"\n            alt=\"Image shows exercise ${name}\"\n            class=\"category-card-image\"\n          />\n          <div class=\"category-content\">\n            <h3 class=\"category-title\">${capitalizeFirstLetter(name)}</h3>\n            <p class=\"category-subtitle\">${filter}</p>\n          </div>\n        </li>`;\n  }\n\n  paginationCategoryCallback = index => {\n    this.render(Number(index));\n  };\n\n  cardOnClick = ({ target }) => {\n    const li = findClosestParrent(target, 'LI', 'UL');\n    if (!li) return;\n    this.hide();\n    this.exerciseInstance.init(this.filter, li.dataset.exercise);\n\n    this.path.start.innerHTML = 'Exercises /';\n    this.path.part.innerHTML = li.dataset.exercise;\n  };\n\n  show() {\n    this.categoryList.classList.remove(INVISIABLE_CLASS);\n    this.categoryList.hidden = false;\n  }\n  hide() {\n    this.categoryList.classList.add(INVISIABLE_CLASS);\n    this.categoryList.hidden = true;\n  }\n}\n\nexport default Filter;\n","import Exercise from './exercise';\nimport Filter from './filter';\n\nasync function initMainSection() {\n  const modulePagination = await import('./pagination.js');\n  const pagination = modulePagination.default;\n\n  const isIndexPage = true;\n  const exerciseInstance = new Exercise(isIndexPage, pagination);\n  const filterInstance = new Filter(isIndexPage, exerciseInstance, pagination);\n  filterInstance.onClick({\n    target: document.querySelector('.filters-list .filters-item'),\n  });\n}\ninitMainSection();\n"],"file":"assets/main-CBkzVqRE.js"}