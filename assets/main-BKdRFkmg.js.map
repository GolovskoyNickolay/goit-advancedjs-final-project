{"version":3,"mappings":"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","names":["form","input","element","event","e","email","response","data","iziToast","year","Filter","isIndexPage","exerciseInstance","paginationInstance","__publicField","target","searchQueryParams","index","li","findClosestParrent","exercise","isMobile","instance","module","__vitePreload","filter","item","page","getFilters","_a","imgURL","name","capitalizeFirstLetter","INVISIABLE_CLASS","text","initMainSection","pagination","modalInstance","ExerciseModal","Exercise","filterInstance","category","keyword"],"ignoreList":[],"sources":["../../src/js/footer.js","../../src/js/js-foooter-year.js","../../src/js/main-section/filter.js","../../src/js/main-section/main-section.js"],"sourcesContent":["import iziToast from 'izitoast';\nconst form = document.querySelector('.subscribe-form');\nconst input = form.querySelector('input');\n\nArray.from(document.body.querySelectorAll('.footer-links a')).forEach(\n  element => {\n    element.addEventListener('click', event => {\n      event.preventDefault();\n    });\n  }\n);\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const email = input.value.trim();\n  const isValid = input.checkValidity();\n  if (!isValid) {\n    input.reportValidity();\n    return;\n  }\n\n  try {\n    const response = await fetch(\n      'https://your-energy.b.goit.study/api/subscription',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email }),\n      }\n    );\n\n    if (!response.ok) throw new Error('Something went wrong');\n    const data = await response.json();\n\n    iziToast.success({\n      title: 'Subscription Success',\n      message: data.message,\n      position: 'topRight',\n    });\n  } catch (error) {\n    iziToast.error({\n      title: 'Subscription Error',\n      message: 'Failed to subscribe. Please try again.',\n      position: 'topRight',\n    });\n  }\n});\n","const element = document.querySelector('.footer-date');\n\nif (element) {\n  const year = new Date().getFullYear();\n  element.textContent = year < 2025 ? '©' + 2025 : '©' + year;\n}\n","import { getFilters } from '../../services/apiServices';\nimport { capitalizeFirstLetter, findClosestParrent, isMobile } from '../utils';\nimport { INVISIABLE_CLASS } from './constants';\nimport searchQueryParams from './searchParams.js';\n\nclass Filter {\n  constructor(isIndexPage, exerciseInstance, paginationInstance) {\n    this.exerciseInstance = exerciseInstance;\n    this.paginationInstance = paginationInstance;\n    this.filterList = document.body.querySelector('.filters-list');\n    this.filterList.addEventListener('click', this.onClick);\n    this.items = Array.from(this.filterList.querySelectorAll('li'));\n\n    this.categoryList = document.body.querySelector('.category-list');\n    this.categoryList.addEventListener('click', this.cardOnClick);\n    this.filter = 'Muscles';\n\n    this.path = {\n      start: document.querySelector('.filter-path-start'),\n      part: document.querySelector('.filter-path-part'),\n    };\n\n    this.limit = isMobile() ? 9 : 12;\n\n    this.errorElement = document.body.querySelector('[data-categoryError]');\n\n    if (!isIndexPage) return;\n\n    (async function (instance) {\n      const module = await import('./search.js');\n      instance.searchForm = module.default;\n    })(this);\n  }\n\n  onClick = ({ target }) => {\n    if (target.nodeName !== 'LI') return;\n\n    this.filter = target.dataset.filter;\n    this.setActiveFilter(this.filter);\n\n    this.exerciseInstance.hide();\n    this.render();\n\n    this.setActivePath();\n    searchQueryParams.new('category', this.filter);\n  };\n\n  setActiveFilter(filter) {\n    this.items.forEach(item => {\n      if (item.dataset.filter === filter) item.classList.add('active');\n      else item.classList.remove('active');\n    });\n  }\n\n  setActivePath(exercise = '') {\n    if (exercise) this.path.start.innerHTML = 'Exercises /';\n    else this.path.start.innerHTML = 'Exercises';\n\n    this.path.part.innerHTML = exercise;\n  }\n\n  async render(page = 1) {\n    try {\n      const data = await getFilters({\n        filter: this.filter,\n        limit: this.limit,\n        page,\n      });\n\n      if (data.results.length) {\n        this.errorHide();\n        this.categoryList.innerHTML = data.results\n          .map(Filter.categoryMarkup)\n          .join('');\n      } else {\n        this.categoryList.innerHTML = '';\n        this.errorShow();\n      }\n\n      this.paginationInstance.render(data.totalPages, data.page);\n      this.paginationInstance.callback = this.paginationCategoryCallback;\n\n      this.searchForm?.hide();\n\n      this.show();\n    } catch (error) {\n      iziToast.error({\n        title: 'Unexpected error',\n        message: 'Try to refresh the page',\n        position: 'topRight',\n      });\n    }\n  }\n\n  static categoryMarkup({ imgURL, name, filter }) {\n    return `<li class=\"category-card\" data-muscle=\"${filter}\" data-exercise=\"${name}\">\n          <img\n            src=\"${imgURL}\"\n            alt=\"Image shows exercise ${name}\"\n            class=\"category-card-image\"\n          />\n          <div class=\"category-content\">\n            <h3 class=\"category-title\">${capitalizeFirstLetter(name)}</h3>\n            <p class=\"category-subtitle\">${filter}</p>\n          </div>\n        </li>`;\n  }\n\n  paginationCategoryCallback = index => {\n    this.render(Number(index));\n  };\n\n  cardOnClick = ({ target }) => {\n    const li = findClosestParrent(target, 'LI', 'UL');\n    if (!li) return;\n    this.hide();\n    const { exercise } = li.dataset;\n    this.exerciseInstance.init(this.filter, exercise);\n\n    this.setActivePath(exercise);\n\n    searchQueryParams.set('exercise', exercise);\n  };\n\n  show() {\n    this.categoryList.classList.remove(INVISIABLE_CLASS);\n    this.categoryList.hidden = false;\n  }\n  hide() {\n    this.categoryList.classList.add(INVISIABLE_CLASS);\n    this.categoryList.hidden = true;\n    this.errorHide();\n  }\n\n  errorShow(text = 'Category was not found') {\n    this.errorElement.innerHTML = text;\n    this.errorElement.classList.remove(INVISIABLE_CLASS);\n    this.errorElement.hidden = false;\n  }\n\n  errorHide() {\n    this.errorElement.innerHTML = '';\n    this.errorElement.classList.add(INVISIABLE_CLASS);\n    this.errorElement.hidden = true;\n  }\n}\n\nexport default Filter;\n","import Exercise from './exercise';\nimport Filter from './filter';\nimport searchQueryParams from './searchParams.js';\nimport { ExerciseModal } from '../modal/exercise-modal.js';\n\nasync function initMainSection() {\n  const modulePagination = await import('./pagination.js');\n  const pagination = modulePagination.default;\n\n  const isIndexPage = true;\n  const modalInstance = new ExerciseModal();\n  const exerciseInstance = new Exercise(isIndexPage, pagination, modalInstance);\n  const filterInstance = new Filter(isIndexPage, exerciseInstance, pagination);\n\n  const { category, exercise, keyword, page } = Object.fromEntries(\n    searchQueryParams.initParams.entries()\n  );\n\n  if (category && exercise) {\n    exerciseInstance.onloalLibrariesCallback = () => {\n      exerciseInstance.init(category, exercise, keyword, page);\n      filterInstance.setActiveFilter(category);\n      filterInstance.setActivePath(exercise);\n    };\n  } else if (category) {\n    const index = ['Muscles', 'Body parts', 'Equipment'].indexOf(category);\n    filterInstance.onClick({\n      target: document.querySelectorAll('.filters-list .filters-item')[index],\n    });\n  } else {\n    filterInstance.onClick({\n      target: document.querySelector('.filters-list .filters-item'),\n    });\n  }\n\n  return;\n}\n\ninitMainSection();\n"],"file":"assets/main-BKdRFkmg.js"}