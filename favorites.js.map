{"version":3,"file":"favorites.js","sources":["../src/favorites.js"],"sourcesContent":["import './js/menu.js';\nimport './js/header-sticky.js';\nimport '/js/main-section/quote.js';\n\nimport { NAME_OF_STORAGE, TEXT_IF_EMPTY } from './js/main-section/constants';\nimport Exercise from './js/main-section/exercise';\nimport { ExerciseModal } from './js/modal/exercise-modal';\nimport { getExercisesFromStorage, removeFavouritesFromStorage } from './js/favourites.js';\n\nlet modalInstance = new ExerciseModal();\n\nconst refs = {\n  list: document.getElementById('favourites'),\n};\n\nfunction renderList() {\n  const exercisesObj = getExercisesFromStorage(NAME_OF_STORAGE);\n  const exercises = Object.values(exercisesObj);\n\n  if (!Array.isArray(exercises)) {\n    console.error('Invalid exercises data:', exercises);\n    renderEmpty();\n    return;\n  }\n\n  if (exercises.length === 0) {\n    renderEmpty();\n    return;\n  }\n\n  const list = document.createElement('ul');\n  list.classList.add('exercise-list');\n  list.innerHTML = exercises\n    .map(el => Exercise.exerciseMarkup(el, true))\n    .join('');\n  refs.list.innerHTML = '';\n  refs.list.appendChild(list);\n\n  list.addEventListener('click', event => {\n    if (\n      event.target.closest('button') &&\n      event.target.closest('button').classList.has('workout-remove-btn')\n    )\n      return;\n\n    modalInstance.open(event);\n  });\n}\n\nfunction renderEmpty() {\n  refs.list.innerHTML = `<div class=\"favourites-not-found\"><p>${TEXT_IF_EMPTY}</p></div>`;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderList();\n});\n\ndocument.removeFavourite = function (element) {\n  const id = element.closest('[data-id]').dataset.id;\n  removeFavouritesFromStorage(id);\n  renderList();\n};"],"names":["modalInstance","ExerciseModal","refs","renderList","exercisesObj","getExercisesFromStorage","NAME_OF_STORAGE","exercises","renderEmpty","list","el","Exercise","event","TEXT_IF_EMPTY","element","id","removeFavouritesFromStorage"],"mappings":"+HASA,IAAIA,EAAgB,IAAIC,EAExB,MAAMC,EAAO,CACX,KAAM,SAAS,eAAe,YAAY,CAC5C,EAEA,SAASC,GAAa,CACpB,MAAMC,EAAeC,EAAwBC,CAAe,EACtDC,EAAY,OAAO,OAAOH,CAAY,EAE5C,GAAI,CAAC,MAAM,QAAQG,CAAS,EAAG,CAC7B,QAAQ,MAAM,0BAA2BA,CAAS,EAClDC,EAAa,EACb,MACJ,CAEE,GAAID,EAAU,SAAW,EAAG,CAC1BC,EAAa,EACb,MACJ,CAEE,MAAMC,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAU,IAAI,eAAe,EAClCA,EAAK,UAAYF,EACd,IAAIG,GAAMC,EAAS,eAAeD,EAAI,EAAI,CAAC,EAC3C,KAAK,EAAE,EACVR,EAAK,KAAK,UAAY,GACtBA,EAAK,KAAK,YAAYO,CAAI,EAE1BA,EAAK,iBAAiB,QAASG,GAAS,CAEpCA,EAAM,OAAO,QAAQ,QAAQ,GAC7BA,EAAM,OAAO,QAAQ,QAAQ,EAAE,UAAU,IAAI,oBAAoB,GAInEZ,EAAc,KAAKY,CAAK,CAC5B,CAAG,CACH,CAEA,SAASJ,GAAc,CACrBN,EAAK,KAAK,UAAY,wCAAwCW,CAAa,YAC7E,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDV,EAAY,CACd,CAAC,EAED,SAAS,gBAAkB,SAAUW,EAAS,CAC5C,MAAMC,EAAKD,EAAQ,QAAQ,WAAW,EAAE,QAAQ,GAChDE,EAA4BD,CAAE,EAC9BZ,EAAY,CACd"}